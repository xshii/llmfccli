# config/roles.yaml - è§’è‰²é…ç½®æ–‡ä»¶
# å®šä¹‰ä¸åŒè§’è‰²çš„ç³»ç»Ÿæç¤ºã€å·¥å…·é›†å’Œæ¨¡å‹é…ç½®

# é»˜è®¤è§’è‰²
default_role: "programmer"

# è§’è‰²å®šä¹‰
roles:
  # ============================================================
  # ç¨‹åºå‘˜è§’è‰²ï¼ˆé»˜è®¤ï¼‰
  # ============================================================
  programmer:
    name: "ç¨‹åºå‘˜"
    name_en: "Programmer"
    description: "C/C++ ç¼–ç¨‹åŠ©æ‰‹ï¼Œæä¾›ä»£ç è¡¥å…¨ã€é”™è¯¯ä¿®å¤å’Œæµ‹è¯•ç”Ÿæˆ"
    icon: "ğŸ’»"

    # ä½¿ç”¨çš„æ¨¡å‹ï¼ˆè§’è‰²ä¸“ç”¨æ¨¡å‹åç§°ï¼‰
    model: "role-programmer:latest"

    # åŸºç¡€æ¨¡å‹ï¼ˆç”¨äºåˆ›å»ºè§’è‰²æ¨¡å‹ï¼‰
    base_model: "qwen3:latest"

    # Modelfile è·¯å¾„ï¼ˆç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•ï¼‰
    modelfile: "config/modelfiles/programmer.modelfile"

    # å¯ç”¨çš„å·¥å…·ç±»åˆ«
    tool_categories:
      - filesystem
      - executor
      - git
      - agent

    # æ’é™¤çš„å·¥å…·ï¼ˆå¯é€‰ï¼‰
    excluded_tools: []

  # ============================================================
  # çŸ¥è¯†æ²»ç†å‘˜è§’è‰²
  # ============================================================
  knowledge_curator:
    name: "çŸ¥è¯†æ²»ç†å‘˜"
    name_en: "Knowledge Curator"
    description: "çŸ¥è¯†ç»“æ„åŒ–ä¸åˆ†ç±»å½’æ¡£ä¸“å®¶ï¼Œæ”¯æŒ RAG çŸ¥è¯†åº“æ„å»º"
    icon: "ğŸ“š"

    # ä½¿ç”¨çš„æ¨¡å‹
    model: "role-knowledge-curator:latest"
    base_model: "qwen3:latest"
    modelfile: "config/modelfiles/knowledge-curator.modelfile"

    # å¯ç”¨çš„å·¥å…·ç±»åˆ«ï¼ˆçŸ¥è¯†æ²»ç†ä¸“ç”¨å·¥å…·ï¼‰
    tool_categories:
      - filesystem
      - knowledge

    # é¢å¤–åŒ…å«çš„å·¥å…·ï¼ˆè·¨ç±»åˆ«å¤ç”¨ï¼‰
    included_tools:
      - grep_search      # å¤ç”¨ï¼šæœç´¢ç›¸å…³å†…å®¹
      - list_dir         # å¤ç”¨ï¼šæµè§ˆçŸ¥è¯†åº“ç»“æ„

    # æ’é™¤çš„å·¥å…·
    excluded_tools:
      - bash_run
      - git
      - cmake_build
      - edit_file        # çŸ¥è¯†æ²»ç†å‘˜åªè¯»å–ï¼Œä¸ç›´æ¥ç¼–è¾‘
      - create_file      # é€šè¿‡ save_knowledge å·¥å…·åˆ›å»º

  # ============================================================
  # æ–‡æ¡£å†™ä½œè€…è§’è‰²
  # ============================================================
  doc_writer:
    name: "æ–‡æ¡£å†™ä½œè€…"
    name_en: "Documentation Writer"
    description: "æŠ€æœ¯æ–‡æ¡£æ’°å†™ä¸“å®¶ï¼Œç”Ÿæˆé«˜è´¨é‡çš„ READMEã€API æ–‡æ¡£å’Œæ•™ç¨‹"
    icon: "ğŸ“"

    model: "role-doc-writer:latest"
    base_model: "qwen3:latest"
    modelfile: "config/modelfiles/doc-writer.modelfile"

    tool_categories:
      - filesystem

    excluded_tools:
      - bash_run
      - cmake_build

  # ============================================================
  # ä»£ç å®¡æŸ¥è€…è§’è‰²
  # ============================================================
  code_reviewer:
    name: "ä»£ç å®¡æŸ¥è€…"
    name_en: "Code Reviewer"
    description: "ä¸“æ³¨äºä»£ç è´¨é‡ã€å®‰å…¨æ€§å’Œæœ€ä½³å®è·µçš„å®¡æŸ¥ä¸“å®¶"
    icon: "ğŸ”"

    model: "role-code-reviewer:latest"
    base_model: "qwen3:latest"
    modelfile: "config/modelfiles/code-reviewer.modelfile"

    tool_categories:
      - filesystem
      - git

    excluded_tools:
      - bash_run
      - create_file
      - edit_file

# ============================================================
# çŸ¥è¯†åˆ†ç±»ä½“ç³»ï¼ˆä¾›çŸ¥è¯†æ²»ç†å‘˜ä½¿ç”¨ï¼‰
# ============================================================
knowledge_taxonomy:
  # ä¸€çº§åˆ†ç±»
  categories:
    - name: "ç¼–ç¨‹è¯­è¨€"
      subcategories:
        - "C/C++"
        - "Python"
        - "Rust"
        - "Go"
        - "JavaScript"
        - "å…¶ä»–è¯­è¨€"

    - name: "è½¯ä»¶å·¥ç¨‹"
      subcategories:
        - "è®¾è®¡æ¨¡å¼"
        - "æ¶æ„è®¾è®¡"
        - "æµ‹è¯•æ–¹æ³•"
        - "é‡æ„æŠ€æœ¯"
        - "ä»£ç è§„èŒƒ"

    - name: "å·¥å…·ä¸æ¡†æ¶"
      subcategories:
        - "æ„å»ºå·¥å…·"
        - "ç‰ˆæœ¬æ§åˆ¶"
        - "CI/CD"
        - "å®¹å™¨åŒ–"
        - "IDE ä¸ç¼–è¾‘å™¨"

    - name: "ç³»ç»Ÿä¸ç½‘ç»œ"
      subcategories:
        - "æ“ä½œç³»ç»Ÿ"
        - "ç½‘ç»œåè®®"
        - "åˆ†å¸ƒå¼ç³»ç»Ÿ"
        - "æ•°æ®åº“"
        - "å®‰å…¨"

    - name: "AI ä¸æœºå™¨å­¦ä¹ "
      subcategories:
        - "æ·±åº¦å­¦ä¹ "
        - "è‡ªç„¶è¯­è¨€å¤„ç†"
        - "è®¡ç®—æœºè§†è§‰"
        - "å¼ºåŒ–å­¦ä¹ "
        - "MLOps"

# ============================================================
# çŸ¥è¯†è¾“å‡ºæ ¼å¼é…ç½®
# ============================================================
knowledge_output:
  # æ‘˜è¦é…ç½®
  summary:
    min_length: 100
    max_length: 300
    format: "paragraph"  # paragraph | bullet_points

  # å…³é”®è¯é…ç½®
  keywords:
    min_count: 5
    max_count: 10
    include_weight: true  # æ˜¯å¦åŒ…å«å…³é”®è¯æƒé‡

  # åˆ†ç±»é…ç½®
  classification:
    max_depth: 3  # æœ€å¤§åˆ†ç±»å±‚çº§
    allow_multiple: true  # å…è®¸å¤šåˆ†ç±»

  # å…³è”é…ç½®
  relations:
    types:
      - "related_to"      # ç›¸å…³
      - "depends_on"      # ä¾èµ–
      - "extends"         # æ‰©å±•
      - "implements"      # å®ç°
      - "contradicts"     # çŸ›ç›¾
