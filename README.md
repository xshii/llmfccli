# Claude-Qwen

åŸºäº Ollama + Qwen3 æ„å»ºçš„ C/C++ AI ç¼–ç¨‹åŠ©æ‰‹ã€‚

## é¡¹ç›®ä»‹ç»

Claude-Qwen æ˜¯ä¸€ä¸ªå¼€æºçš„ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œä¸“æ³¨äº C/C++ é¡¹ç›®å¼€å‘ã€‚é€šè¿‡æœ¬åœ°éƒ¨ç½²çš„ Qwen3 å¤§æ¨¡å‹ï¼Œæä¾›æ™ºèƒ½ä»£ç è¡¥å…¨ã€é”™è¯¯ä¿®å¤ã€æµ‹è¯•ç”Ÿæˆç­‰åŠŸèƒ½ã€‚

**è®¾è®¡çµæ„Ÿ**: å‚è€ƒ Anthropic Claude Code çš„å·¥ä½œæœºåˆ¶ï¼Œç»“åˆ Ollama çš„æœ¬åœ°éƒ¨ç½²ä¼˜åŠ¿ã€‚

**æ ¸å¿ƒç‰¹æ€§**:
- ğŸ” æ™ºèƒ½æ–‡ä»¶å¯¼èˆª - è·¨ç›®å½•æœç´¢å®šä½ä»£ç 
- ğŸ”§ è‡ªåŠ¨ç¼–è¯‘ä¿®å¤ - è¯†åˆ«å¹¶ä¿®å¤ç¼–è¯‘é”™è¯¯
- âœ… æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ - è‡ªåŠ¨ç”Ÿæˆ GTest å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ğŸ’¾ ä¸Šä¸‹æ–‡ç®¡ç† - Token é¢„ç®—åˆ†é…å’Œæ™ºèƒ½å‹ç¼©
- ğŸ”„ VSCode é›†æˆ - Diff å¯¹æ¯”å’Œä¸€é”®åº”ç”¨ä¿®æ”¹

## é¡¹ç›®ä¼˜åŠ¿

### 1. å®Œå…¨æœ¬åœ°åŒ–
- æ•°æ®ä¸ä¸Šä¼ äº‘ç«¯ï¼Œä¿æŠ¤ä»£ç éšç§
- æ— éœ€ API Keyï¼Œé›¶ä½¿ç”¨æˆæœ¬
- ç¦»çº¿å¯ç”¨ï¼Œä¸ä¾èµ–ç½‘ç»œ

### 2. C/C++ ä¸“ç²¾
- æ·±åº¦é›†æˆ CMake å’Œ GTest
- ç†è§£ C++ ç¼–è¯‘é”™è¯¯æ ¼å¼ï¼ˆgcc/clang/MSVCï¼‰
- ä½¿ç”¨ tree-sitter å‡†ç¡®è§£æä»£ç ç»“æ„

### 3. æ™ºèƒ½ä¸Šä¸‹æ–‡ç®¡ç†
- 128k è¶…é•¿ä¸Šä¸‹æ–‡çª—å£
- åˆ†ç±» token é¢„ç®—ï¼Œä¼˜å…ˆä¿ç•™å…³é”®ä¿¡æ¯
- è‡ªåŠ¨å‹ç¼©å†å²å¯¹è¯ï¼Œä¿æŒæµç•…ä½“éªŒ

### 4. è‡ªä¸»å†³ç­–èƒ½åŠ›
- ä¸¤é˜¶æ®µ Agent è®¾è®¡ï¼ˆæ„å›¾è¯†åˆ« + è‡ªä¸»æ‰§è¡Œï¼‰
- åŠ¨æ€è°ƒæ•´å·¥å…·è°ƒç”¨ç­–ç•¥
- ç¼–è¯‘-ä¿®å¤å¾ªç¯ï¼Œæœ€å¤š 3 æ¬¡é‡è¯•

## å¿«é€Ÿå…¥é—¨

### ç¯å¢ƒè¦æ±‚

- Python 3.10+
- [Ollama](https://ollama.ai/) å·²å®‰è£…
- CMake 3.15+ï¼ˆä»…ç”¨äºæµ‹è¯•é¡¹ç›®æ„å»ºï¼‰

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/claude-qwen.git
cd claude-qwen

# 2. å®‰è£…ä¾èµ–
pip install -e .[dev]

# 3. æ‹‰å– Qwen3 æ¨¡å‹
ollama pull qwen3

# 4. éªŒè¯å®‰è£…ï¼ˆè¿è¡Œæµ‹è¯•ï¼‰
python tests/run_all_tests.py
```

### åŸºæœ¬ä½¿ç”¨

```bash
# å¯åŠ¨ CLI äº¤äº’æ¨¡å¼
claude-qwen

# å¸¸ç”¨å‘½ä»¤ç¤ºä¾‹
> æ‰¾åˆ° network_handler.cpp å¹¶æ·»åŠ è¶…æ—¶é‡è¯•æœºåˆ¶
> ç¼–è¯‘é¡¹ç›®å¹¶ä¿®å¤æ‰€æœ‰é”™è¯¯
> ä¸ºå½“å‰æ–‡ä»¶ç”Ÿæˆå•å…ƒæµ‹è¯•
> åˆ†æ HTTP æ¨¡å—çš„ä¾èµ–å…³ç³»
```

### é…ç½®è¯´æ˜

ä¿®æ”¹ `config/` ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ï¼š

- `token_budget.yaml` - Token åˆ†é…ç­–ç•¥å’Œå‹ç¼©é˜ˆå€¼
- `ollama.yaml` - æ¨¡å‹å‚æ•°ï¼ˆtemperature, top_p ç­‰ï¼‰
- `tools.yaml` - å·¥å…·ç™½åå•å’Œå®‰å…¨é™åˆ¶

## æµ‹è¯•ç”¨ä¾‹

é¡¹ç›®åŒ…å« 6 ä¸ªå®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•ï¼š

| æµ‹è¯•ç”¨ä¾‹ | è¯´æ˜ | éªŒè¯ç‚¹ |
|---------|------|--------|
| test_case_1 | è·¨ç›®å½•æ–‡ä»¶å®šä½ + åŠŸèƒ½æ·»åŠ  | grep æœç´¢ã€ä»£ç æ’å…¥ã€é£æ ¼ä¿æŒ |
| test_case_2 | ç¼–è¯‘é”™è¯¯è‡ªåŠ¨ä¿®å¤å¾ªç¯ | é”™è¯¯è§£æã€å¾ªç¯ä¿®å¤ã€ç»ˆæ­¢æ¡ä»¶ |
| test_case_3 | å•å…ƒæµ‹è¯•ç”Ÿæˆ | GTest æ¡†æ¶ã€è¾¹ç•Œæµ‹è¯•ã€å‡½æ•°è¦†ç›– |
| test_case_4 | æ¨¡å—é›†æˆæµ‹è¯•ç”Ÿæˆ | ä¾èµ–åˆ†æã€Mock ç­–ç•¥ã€è¾¹ç•Œè¡Œä¸º |
| test_case_5 | ä¸Šä¸‹æ–‡ä¿æŒ | å¤šè½®å¯¹è¯ã€å†å²è®°å¿† |
| test_case_6 | é”™è¯¯æ¢å¤æœºåˆ¶ | æœ€å¤§é‡è¯•ã€Session ä¿å­˜ |

è¿è¡Œæµ‹è¯•ï¼š
```bash
# å…¨éƒ¨æµ‹è¯•
python tests/run_all_tests.py

# å•ä¸ªæµ‹è¯•
python tests/test_case_1.py
```

## é¡¹ç›®ç»“æ„

```
claude-qwen/
â”œâ”€â”€ backend/              # Python åç«¯
â”‚   â”œâ”€â”€ agent/           # Agent æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ llm/             # Ollama å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ tools/           # å·¥å…·ç³»ç»Ÿï¼ˆæ–‡ä»¶ã€ç¼–è¯‘ã€åˆ†æï¼‰
â”‚   â””â”€â”€ cli.py           # å‘½ä»¤è¡Œç•Œé¢
â”œâ”€â”€ vscode-extension/    # VSCode æ’ä»¶ï¼ˆå¼€å‘ä¸­ï¼‰
â”œâ”€â”€ tests/               # æµ‹è¯•ç”¨ä¾‹
â”‚   â””â”€â”€ fixtures/        # æµ‹è¯•é¡¹ç›®ï¼ˆåŒ…å«æ•…æ„çš„é”™è¯¯ï¼‰
â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â””â”€â”€ README.md
```

## å¼€å‘è¿›åº¦

- [x] æµ‹è¯•ç”¨ä¾‹å’Œæµ‹è¯•é¡¹ç›®
- [x] é¡¹ç›®ç»“æ„å’Œé…ç½®æ–‡ä»¶
- [ ] Token è®¡æ•°å™¨
- [ ] Ollama å®¢æˆ·ç«¯
- [ ] åŸºç¡€å·¥å…·ï¼ˆview/edit/grep/bashï¼‰
- [ ] Agent ä¸»å¾ªç¯
- [ ] ä¸Šä¸‹æ–‡å‹ç¼©
- [ ] CLI äº¤äº’ç•Œé¢
- [ ] VSCode æ’ä»¶

## æ›´æ–°æ—¥å¿—

### v0.2.0 (2025-12-26)

**æ–°åŠŸèƒ½**
- å·¥å…·æ‰§è¡Œç»“æœæ‘˜è¦æ˜¾ç¤ºï¼ˆæœ€å¤š5è¡Œï¼Œç»¿è‰²æˆåŠŸ/çº¢è‰²é”™è¯¯ï¼‰
- `find_similar_file` æ™ºèƒ½è·¯å¾„çº é”™ï¼Œè‡ªåŠ¨å»ºè®®ç›¸ä¼¼æ–‡ä»¶å

**Bug ä¿®å¤**
- ä¿®å¤ git å·¥å…·å‚æ•°è¢« validator æ ¡éªŒæ‰çš„é—®é¢˜ï¼ˆLLM å‘é€ JSON å­—ç¬¦ä¸²æ—¶ï¼‰
- ä¿®å¤ "æ€»æ˜¯å…è®¸" åŠŸèƒ½å¯¹ view_file ç­‰å·¥å…·æœªç”Ÿæ•ˆçš„é—®é¢˜
- ä¿®å¤ç¡®è®¤ç³»ç»Ÿæµ‹è¯•ç”¨ä¾‹çš„ API ä¸åŒ¹é…é—®é¢˜

**é‡æ„**
- é‡å†™ `test_edit_file_confirmation.py` é€‚é…æ–°çš„ edit_file APIï¼ˆold_str/new_strï¼‰
- æ›´æ–°ç¡®è®¤æµ‹è¯•ä»¥ä½¿ç”¨ `ConfirmResult` è¿”å›ç±»å‹

## å¦‚ä½•åé¦ˆ

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„åé¦ˆå’Œè´¡çŒ®ï¼

### æäº¤ Issue
- Bug æŠ¥å‘Šï¼š[GitHub Issues](https://github.com/yourusername/claude-qwen/issues)
- åŠŸèƒ½å»ºè®®ï¼šæ‰“ä¸Š `enhancement` æ ‡ç­¾
- ä½¿ç”¨é—®é¢˜ï¼šæ‰“ä¸Š `question` æ ‡ç­¾

### è´¡çŒ®ä»£ç 
1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä¿®æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### äº¤æµè®¨è®º
- Discussionsï¼šé¡¹ç›®è®¾è®¡ã€æ¶æ„è®¨è®º
- QQ ç¾¤ï¼š123456789ï¼ˆå¾…å»ºï¼‰
- é‚®ä»¶ï¼šyour.email@example.com

## è‡´è°¢

- [Anthropic Claude Code](https://docs.anthropic.com/) - è®¾è®¡çµæ„Ÿæ¥æº
- [Ollama](https://ollama.ai/) - æœ¬åœ°å¤§æ¨¡å‹éƒ¨ç½²
- [Qwen](https://github.com/QwenLM/Qwen) - åŸºåº§æ¨¡å‹
- [tree-sitter](https://tree-sitter.github.io/) - ä»£ç è§£æ

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶
